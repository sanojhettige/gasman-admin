<nav
  ng-include="vm.pageContent.navbar"
  class="site-navbar navbar navbar-default navbar-fixed-top navbar-mega navbar-expand-md"
  role="navigation"
></nav>
<div ng-include="vm.pageContent.sidebar_left" class="site-menubar"></div>

<!-- Page -->
<div class="page" ng-init="vm.getSettings();">
  <div class="page-content container-fluid">
    <div class="row">
      <div class="col-xxl-12 col-lg-12">
        <div class="card card-shadow card-responsive">
          <div class="card-block p-0">
            <div class="panel">
              <div class="panel-body">
                <form id="editSettings" name="editSettings" novalidate>
                  <div class="row">
                    <div class="form-group has-feedback col-6">
                      <label for="appName" class="inputField">App Name</label>
                      <input
                        class="form-control "
                        id="appName"
                        placeholder="App Name"
                        ng-model="vm.getSetting.app_name"
                        name="appName"
                        ng-pattern="/^[a-zA-Z\s]*$/"
                        autocomplete="off"
                        required
                      />
                      <div class="errorMessage">
                        <p
                          ng-show="editSettings.appName.$touched && editSettings.appName.$error.required"
                          class="badge badge-danger"
                        >
                          App Name cant be empty
                        </p>
                        <p
                          ng-show="editSettings.appName.$touched && editSettings.appName.$error.pattern"
                          class="badge badge-danger"
                        >
                          Enter a valid name
                        </p>
                        <p
                          ng-show="vm.errors.all_name"
                          class="badge badge-danger"
                        >
                          {{ vm.errors.all_name }}
                        </p>
                      </div>
                    </div>

                    <div class="form-group has-feedback col-6">
                      <label for="adminEmail" class="inputField"
                        >Admin Email</label
                      >
                      <input
                        class="form-control "
                        id="adminEmail"
                        placeholder="Admin Email"
                        ng-model="vm.getSetting.admin_email"
                        name="adminEmail"
                        ng-pattern="/^[aA-zZ]+[aA-zZ0-9._]+@[a-z]+\.[a-z.]{2,5}$/"
                        autocomplete="off"
                        required
                      />
                      <div class="errorMessage">
                        <p
                          ng-show="editSettings.adminEmail.$touched && editSettings.adminEmail.$error.required"
                          class="badge badge-danger"
                        >
                          Admin Email cant be empty
                        </p>
                        <p
                          ng-show="editSettings.adminEmail.$touched && editSettings.adminEmail.$error.pattern"
                          class="badge badge-danger"
                        >
                          Enter a valid email
                        </p>
                        <p
                          ng-show="vm.errors.admin_email"
                          class="badge badge-danger"
                        >
                          {{ vm.errors.admin_email }}
                        </p>
                      </div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="form-group has-feedback col-6">
                      <label for="senderName" class="inputField"
                        >Sender Name</label
                      >
                      <input
                        class="form-control "
                        id="senderName"
                        placeholder="Sender Name"
                        ng-model="vm.getSetting.sender_name"
                        name="senderName"
                        ng-pattern="/^[a-zA-Z\s]*$/"
                        autocomplete="off"
                        required
                      />
                      <div class="errorMessage">
                        <p
                          ng-show="editSettings.senderName.$touched && editSettings.senderName.$error.required"
                          class="badge badge-danger"
                        >
                          Sender Name cant be empty
                        </p>
                        <p
                          ng-show="editSettings.senderName.$touched && editSettings.senderName.$error.pattern"
                          class="badge badge-danger"
                        >
                          Enter a valid name
                        </p>
                        <p
                          ng-show="vm.errors.sender_name"
                          class="badge badge-danger"
                        >
                          {{ vm.errors.sender_name }}
                        </p>
                      </div>
                    </div>

                    <div class="form-group has-feedback col-6">
                      <label for="senderEmail" class="inputField"
                        >Sender Email</label
                      >
                      <input
                        class="form-control "
                        id="senderEmail"
                        placeholder="Sender Email"
                        ng-model="vm.getSetting.sender_email"
                        name="senderEmail"
                        ng-pattern="/^[aA-zZ]+[aA-zZ0-9._]+@[a-z]+\.[a-z.]{2,5}$/"
                        autocomplete="off"
                        required
                      />
                      <div class="errorMessage">
                        <p
                          ng-show="editSettings.senderEmail.$touched && editSettings.senderEmail.$error.required"
                          class="badge badge-danger"
                        >
                          Sender Email cant be empty
                        </p>
                        <p
                          ng-show="editSettings.senderEmail.$touched && editSettings.senderEmail.$error.pattern"
                          class="badge badge-danger"
                        >
                          Enter a valid email
                        </p>
                        <p
                          ng-show="vm.errors.sender_name"
                          class="badge badge-danger"
                        >
                          {{ vm.errors.sender_email }}
                        </p>
                      </div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="form-group has-feedback col-6">
                      <label for="takCom" class="inputField"
                        >Takeaway commission</label
                      >
                      <div class="input-group">
                        <input
                          class="form-control "
                          id="takCom"
                          placeholder=""
                          ng-model="vm.getSetting.tak_com"
                          name="takCom"
                          autocomplete="off"
                          required
                        />
                        <select
                          class="form-control"
                          ng-model="vm.getSetting.tak_com_type"
                        >
                          <option value="1">Per(%)</option>
                          <option value="2">Per Order</option>
                        </select>
                      </div>

                      <div class="errorMessage">
                        <p
                          ng-show="editSettings.takCom.$touched && editSettings.takCom.$error.required"
                          class="badge badge-danger"
                        >
                          Takeaway commission is required.
                        </p>
                        <p
                          ng-show="vm.errors.tak_com"
                          class="badge badge-danger"
                        >
                          {{ vm.errors.tak_com }}
                        </p>
                      </div>
                    </div>

                    <div class="form-group has-feedback col-6">
                      <label for="delCom" class="inputField"
                        >Delivery Commission</label
                      >
                      <div class="input-group">
                        <input
                          class="form-control "
                          id="delCom"
                          placeholder=""
                          ng-model="vm.getSetting.del_com"
                          name="delCom"
                          autocomplete="off"
                          required
                        />
                        <select
                          class="form-control"
                          ng-model="vm.getSetting.del_com_type"
                        >
                          <option value="1">Per(%)</option>
                          <option value="2">Per Order</option>
                        </select>
                      </div>
                      <div class="errorMessage">
                        <p
                          ng-show="editSettings.delCom.$touched && editSettings.delCom.$error.required"
                          class="badge badge-danger"
                        >
                          Delivery commission amount is required.
                        </p>
                        <p
                          ng-show="vm.errors.del_com"
                          class="badge badge-danger"
                        >
                          {{ vm.errors.del_com }}
                        </p>
                      </div>
                    </div>
                  </div>

                  <hr />
                  <div class="row">
                    <div class="modal-footer col-12">
                      <button
                        type="button"
                        class="btn btn-default"
                        ng-click="vm.closePopUp()"
                        data-dismiss="modal"
                      >
                        Cancel
                      </button>

                      <button
                        type="button"
                        id="submit"
                        class="btn btn-success"
                        ng-click="vm.updateSettings(vm.getSetting)"
                        ng-disabled="editSettings.senderEmail.$invalid || editSettings.senderName.$invalid || editSettings.appName.$invalid || editSettings.adminEmail.$invalid  || vm.submitting"
                      >
                        Save Settings
                      </button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- End Page -->
<div ng-include="vm.pageContent.customFooterUrl"></div>
